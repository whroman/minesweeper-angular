<div
    class="board-wrapper"
    style="{
        'width': {{tiles.x}} * 40 + 'px'
    }"
>
    <ul id="stats">
        <li>{{ tiles.all.length }} tiles</li>
        <li>{{ tiles.numOfMines }} mines</li>
        <li>{{ tiles.numOfFlags }} flagged tiles</li>
        <li>{{ tiles.all.length - tiles.numOfMines - tiles.numOfClears }} left to clear</li>
    </ul>

    <ul id="board">

        <li
            ng-repeat="tile in tiles.all | orderBy : x"
            class="tile"
            tile="tile"
        >

<!--         <li 
            class="tile"
            ng-repeat="tile in tiles.all | orderBy : x" 
            ng-class="{
                nth     : tile.model.x === 0,
                flagged : tile.model.isFlagged === true,
                clear   : tile.model.isClear === true,
                mine    : tile.model.isMine === true && tile.model.isClear === true,
                zero    : tile.model.adjacentMines == 0 && tile.model.isClear === true
            }"
            ng-click="tile.click($event)"
        >

            <span ng-if="tile.model.isClear != true">
            </span>

            <span 
                ng-if="
                    tile.model.isClear != true && 
                    tile.model.isFlagged == true"
                >
                ?
            </span>

            <span 
                ng-if="
                    tile.model.isClear == true && 
                    tile.model.isMine == true"
                >
                X
            </span>

            <span 
                ng-if="
                    tile.model.isClear == true && 
                    tile.model.isMine == false"
                >
                {{tile.model.adjacentMines}}
            </span>

         </li> -->
    </ul>
</div>

<div id="dashboard">
    <div 
        class="new-game button"
        ng-click="modals.toggle('newGame')"
        >
        new game
    </div>
    <div 
        class="select-tile button"
        ng-click="tiles.autoSelect(1)"
        >
        clear a safe tile
    </div>
    <div 
        class="instructions button"
        ng-click="modals.toggle('instructions')"
        >
        instructions
    </div>
</div>

<div 
    id="overlay"
    ng-if="modals.show.instructions == true || modals.show.newGame == true || tiles.win == true || tiles.loss == true"
    ng-click="modals.reset()"
    >

</div>

<ng-include 
    src="modals.path.instructions"
    ng-if="modals.show.instructions == true"
    class="message"
></ng-include>

<ng-include 
    src="modals.path.newGame"
    ng-if="tiles.win == true || tiles.loss == true || modals.show.newGame == true"
    class="message"
></ng-include>